# ============================================================================
# 88-ERP BACKEND ENVIRONMENT VARIABLES
# ============================================================================

# Django
SECRET_KEY=django-insecure-dev-key-change-in-production-88erp
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1

# ============================================================================
# SUPABASE CONFIGURATION
# ============================================================================
# How to get these:
# 1. Go to https://supabase.com/dashboard
# 2. Select your project
# 3. Go to Project Settings > Database > Connection string > Transaction pooler
# 4. Go to Project Settings > API (for URL and keys)

# Database - Full connection string (RECOMMENDED - Transaction Mode)
# Get from: Project Settings > Database > Connection string > Transaction pooler
# Transaction mode (port 6543) supports more concurrent connections than Session mode
DATABASE_URL=postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-1-[REGION].pooler.supabase.com:6543/postgres

# Database - Individual variables (fallback if DATABASE_URL not set)
DB_ENGINE=django.db.backends.postgresql
DB_NAME=postgres
DB_USER=postgres.[PROJECT-REF]
DB_PASSWORD=your-database-password-here
DB_HOST=aws-1-[REGION].pooler.supabase.com
DB_PORT=6543

# API Keys (from Project Settings > API)
SUPABASE_URL=https://[PROJECT-REF].supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ============================================================================
# REDIS (Optional - for caching and Celery)
# ============================================================================
REDIS_URL=redis://localhost:6379/0

# ============================================================================
# CELERY (Optional - for background tasks)
# ============================================================================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ============================================================================
# ELASTICSEARCH (Optional - for advanced search)
# ============================================================================
ELASTICSEARCH_HOST=localhost:9200

# ============================================================================
# JWT AUTHENTICATION
# ============================================================================
JWT_SECRET_KEY=jwt-secret-key-change-in-production-88erp
JWT_ALGORITHM=HS256
JWT_EXPIRATION_DELTA=3600

# ============================================================================
# SENTRY (Optional - for error tracking)
# ============================================================================
SENTRY_DSN=

# ============================================================================
# CORS (for frontend)
# ============================================================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================================================
# EMAIL (Optional - for notifications)
# ============================================================================
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password

# ============================================================================
# SHOPIFY INTEGRATION (Optional)
# ============================================================================
SHOPIFY_API_KEY=
SHOPIFY_API_SECRET=
SHOPIFY_SCOPES=read_products,write_products,read_inventory,write_inventory

# ============================================================================
# NOTES
# ============================================================================
# 
# FINDING YOUR SUPABASE CREDENTIALS:
# 
# 1. Database Connection (IMPORTANT - Use Transaction Pooler):
#    - Go to: Project Settings > Database > Connection string
#    - Click on "Method" dropdown and select "Transaction pooler"
#    - Copy the ENTIRE connection string shown
#    - Format: postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-1-[REGION].pooler.supabase.com:6543/postgres
#    - Paste it as DATABASE_URL in your .env file
#
# 2. API Keys:
#    - Go to: Project Settings > API
#    - Copy: Project URL, anon/public key, service_role key
#
# 3. Your project-ref is in the URL:
#    - Example: https://abcdefghijklmnop.supabase.co
#    - project-ref = abcdefghijklmnop
#
# IMPORTANT NOTES:
# - Use "Transaction pooler" (port 6543) - supports up to 200 connections
# - Session pooler (port 5432) has limited connections (~15-20) and will cause "max clients" errors
# - The username format is: postgres.[PROJECT-REF] (not just "postgres")
# - The host format is: aws-1-[REGION].pooler.supabase.com (note the "aws-1")
# - Transaction mode is compatible with Django's connection pooling
#
# SECURITY NOTES:
# - Never commit .env to git (it's in .gitignore)
# - Use service_role key only in backend (it bypasses RLS)
# - Use anon key in frontend (it respects RLS)
# - Change SECRET_KEY and JWT_SECRET_KEY in production
# - Use strong passwords for database
#
